<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Enroll Students</title>
    <link rel="stylesheet" href="/static/styles.css">
    <script src="https://unpkg.com/htmx.org@1.9.6"></script>
</head>
<body>
    <nav class="container-fluid">
        <ul>
          <li><strong>Teacher Portal</strong></li>
        </ul>
        <ul>
          <li><a href="/auth/logout" role="button" class="secondary">ðŸšª Logout</a></li>
        </ul>
      </nav>
    <main class="container">
        <h2>ðŸ‘¥ Enroll Students to <strong>{{ course.title }}</strong></h2>

        <!-- Individual Student Invite Form -->
        <section class="card">
            <form method="POST" action="/auth/courses/{{ course.id }}/invite-student" hx-post hx-target="#invite-status" hx-swap="innerHTML">
                <label for="student_email">Student Email:</label>
                <input type="email" name="email" id="student_email" required>
                <button type="submit">Invite Student</button>
            </form>
            <div id="invite-status" style="margin-top: 1rem;"></div>
        </section>

        <hr>

        <!-- Excel Upload Form -->
        <section class="card">
        <form 
        hx-post="/auth/courses/{{ course.id }}/upload-students"
        enctype="multipart/form-data"
        hx-target="#invite-status"
        hx-swap="innerHTML"
        >
        <input type="file" name="file" accept=".xlsx" required />
        <button type="submit">ðŸ“¤ Upload Students</button>
        </form>
        <div id="invite-status" style="margin-top: 1rem;"></div>
        </section>
        <div style="text-align: center; margin-top: 2rem;">
          {% if role == "teacher" %}
            <a href="/auth/teacher/dashboard" class="btn-secondary">â¬… Back to Dashboard</a>
          {% else %}
            <a href="/auth/student/courses" class="btn-secondary">â¬… Back to Dashboard</a>
          {% endif %}
        </div>
        
    </main>
</body>
</html>
